/* Navigator styles (cleaned)
   - Right fixed panel: width 320px, background #FBFBFB
   - Panel background fills full viewport; inner content sits below header
   - depth1--item: full-width buttons with #F1F1F1 background
   - depth2--item: block items with a left vertical bar (::before) that becomes visible
     when the item has .active-nav-item or is focused
*/

.dynamic-navigator {
  position: fixed;
  right: 0;
  top: 0;
  width: 320px;
  height: 100vh;
  background: #fbfbfb;
  box-sizing: border-box;
  overflow: visible;
  /* keep navigator below header which has z-index:200 */
  z-index: 100;
}

.dynamic-navigator__inner {
  position: absolute;
  left: 0;
  right: 0;
  top: calc(var(--header-height, 64px) + 80px);
  bottom: 0;
  padding: 24px 16px;
  box-sizing: border-box;
  overflow: auto;
}

/* Scrollbar: hidden by default; show a very thin blue thumb while scrolling */
.dynamic-navigator__inner {
  scrollbar-width: none; /* Firefox: hide */
}
.dynamic-navigator__inner::-webkit-scrollbar {
  width: 0; /* WebKit: hide */
  height: 0;
  transition: all 0.3s;
}
.dynamic-navigator__inner.show-scrollbar {
  scrollbar-width: thin; /* Firefox: thin when active */
  scrollbar-color: rgba(0, 70, 255, 0.95) transparent;
}
.dynamic-navigator__inner.show-scrollbar::-webkit-scrollbar {
  width: 1px;
}
.dynamic-navigator__inner.show-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}
.dynamic-navigator__inner.show-scrollbar::-webkit-scrollbar-thumb {
  background-color: rgba(0, 70, 255, 0.95);
  border-radius: 3px;
  min-height: 20px;
}

/* Generic depth list spacing */
.dynamic-navigator .depth1 > li ~ li {
  margin-top: 12px;
}
.dynamic-navigator .depth2 > li ~ li {
  /* depth2 items are visually connected (no gaps) */
  margin-top: 0;
}

/* Depth1: full-width button style */
.dynamic-navigator .depth1--item {
  display: block;
  width: 100%;
  height: 60px;
  text-align: left;
  padding: 0 28px;
  background: transparent;
  border: none;
  box-sizing: border-box;
  color: #989898;
  font-size: 20px;
  font-weight: 600;
  line-height: 1.8;
}

.dynamic-navigator .depth1--item.active-nav-item {
  color: #333;
  background: #f1f1f1;
}

.dynamic-navigator .depth1--item + .depth2 {
  margin-top: 10px;
}

/* Depth2: block-level items with left vertical bar (pseudo-element) */
.dynamic-navigator .depth2 {
  position: relative;
  padding-left: 28px; /* space for the continuous left bar */
}

.dynamic-navigator .depth2--item {
  position: relative;
  width: 100%;
  text-align: left;
  display: block;
  padding: 8px 12px 8px 18px; /* left padding to make room for the bar */
  margin: 0;
}

/* continuous light bar running the full length of the depth2 list */
.dynamic-navigator .depth2::before {
  content: "";
  position: absolute;
  left: 28px;
  top: 0;
  bottom: 0;
  width: 2px; /* thin continuous bar */
  background: #ddd;
  border-radius: 2px;
}

/* individual depth2 items (no gaps) */
.dynamic-navigator .depth2--item {
  position: relative;
  display: block;
  height: 46px;
  padding: 0px 10px;
  margin: 0; /* items connected */
  cursor: pointer;
  background: transparent;
  border: none;
  color: #777; /* default text muted */
}

.dynamic-navigator .depth2--item:hover {
  color: #333;
}

/* per-item overlay bar that becomes dark for the active item */
.dynamic-navigator .depth2--item::before {
  content: "";
  position: absolute;
  left: 0px;
  top: 0;
  bottom: 0;
  width: 2px;
  height: 100%;
  background: transparent;
  border-radius: 2px;
  transition: background 180ms ease, transform 180ms ease, opacity 180ms ease;
  opacity: 0;
}

/* Active item text styling */
.dynamic-navigator .depth2--item.active-nav-item {
  color: #333333;
}

/* Active item shows a dark overlay bar next to the continuous bar */
.dynamic-navigator .depth2--item.active-nav-item::before
/* .dynamic-navigator .depth2--item:focus::before, */ {
  background: #333333;
  opacity: 1;
  left: 0;
}
